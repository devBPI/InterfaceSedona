{% import 'search/blocs-advanced-search/macros.html.twig' as display_form %}

{% set content %}
    <div class="search-base">
        <p class="search-base__label">{{ 'modal.advanced-search.base.label'|trans }}</p>
        <div class="search-base__list">
            {% for i, base in criteria.configurationName %}
                <div class="search-base__item">
                    <div class="form-check">
                        <input type="checkbox" id="adv-search-bdd-{{ i }}" class="form-check-input"
                            name="{{ constant('App\\Model\\Search\\FilterFilter::QUERY_NAME') }}[{{ key }}][]" value="{{ base }}"
                                {% if key in objSearch.searchFilters|keys and base in objSearch.searchFilters[key] %}
                            checked="checked"
                                {% endif %}>

                        <label for="adv-search-bdd-{{ i }}" class="form-check-label">
                            {{ base }}
                        </label>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endset %}

{{ display_form.display_collapse_filter(
    'advanced',
    'modal.advanced-search.base.title'|trans,
    key,
    key in objSearch.searchFilters|keys,
    content
) }}
