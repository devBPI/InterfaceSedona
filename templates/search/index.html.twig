{% extends 'search/base.html.twig' %}

{% block title %}{{ title ?? 'page.search.title'|trans({'%mode%': false, '%searchInput%': 'mot clé saisie dans la recherche', '%currentPage%': '2', '%nbPage%': '5'}) }}{% endblock %}

{% block searchextended %}
	<div class="row justify-content-sm-between">
		<div class="col-12 col-sm-auto">
			{% include "search/blocs-searchextended/search-corrector.html.twig" with {'suggestionList': objSearch.suggestionList} %}
		</div>
		
		<div class="col-auto">
			{% include "search/blocs-searchextended/related-topics.html.twig" with {'linkedSubjects': objSearch.linkedSubjects} %}
		</div>

		<div class="col-auto">
			{% include "search/blocs-searchextended/relaunch-search.html.twig" %}
		</div>
	</div>

	<div class="row mb-3">
		<div class="col-12 col-sm-10 pr-sm-0">
			{% include "search/blocs-searchextended/filters-search.html.twig"   %}
		</div>

		<div class="col-12 col-sm-2 pl-sm-0">
			<div class="search-refine">
				<button class="search-refine__button" type="button" data-target="#modal-refine-search" data-toggle="modal">Affiner<span class="sr-only"> la recherche</span></button>
				<!-- Include modal des filtres - Affiner -->
				{% include "search/modal/refine-search.html.twig" with {'facets': objSearch.facets} %}
			</div>
		</div>
	</div>

{% endblock %}

{% block body %}

	<div class="row search-result">
		{% include "search/blocs-results/preview-authority.html.twig" %}
    </div>

	<div class="row">
		{# Include Nombre item #}
		{% include "search/blocs-results/search-header.html.twig" %}
	</div>

	<div class="row">

		{% block result %}
			<div class="col-12 col-md-6 pr-md-0">
				{% include 'search/blocs-results/docs-container.html.twig' with {'type': 'rayon', 'notices': objSearch.notices} %}
			</div>

			<div class="col-12 col-md-6 pl-md-0">
				{% include 'search/blocs-results/docs-container.html.twig' with {'type': 'online', 'notices': objSearch.noticesOnline} %}
			</div>
		{% endblock %}
	</div>

	<div class="row">
		{# Include Pagination #}
		{% include "search/blocs-results/search-footer.html.twig" with {'criteria':objSearch.criteria, 'pagesTotal': objSearch.pageTotal, 'page':  objSearch.page} %}
	</div>

	<!-- Include modal formulaire pour être prevenu du retour du document en rayon -->
	{% include "search/modal/notified-form.html.twig" %}
{% endblock %}
